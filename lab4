#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include <string.h>
void pyzirkom (int massiv[], int size){
    for (int i=0; i<size; i++){
        for(int j=0; j<size-i; j++){
            if (massiv[j]>massiv[j+1]){
                int a = massiv[j];
                massiv[j] = massiv[j + 1];
                massiv[j + 1] = a;
            }
        }
    }
}

void vstavkami (int massiv[], int size){
    for (int i=1; i<size; i++){
        int b = massiv[i];
        int j = i - 1;

        while(j >= 0 && massiv[j] > b){
            massiv[j + 1] = massiv[j];
            j = j - 1;
        }
        massiv[j + 1] = b;
    }
}


    void merge(int mas[], int left, int ser, int right){
        int i, j, k;
        int n1 = ser - left + 1;
        int n2 = right - ser;

        int *leftmas = (int*)malloc(n1 * sizeof(int));
        int *rightmas = (int*)malloc(n2 * sizeof(int));

        for (i=0; i<n1; i++){
            leftmas[i]=mas[left + i];
        }
        for (j=0; j<n2; j++){
            rightmas[j]=mas[ser + 1 + j];
        }

        i = 0;
        j = 0;
        k = left;

        while (i<n1 && j<n2){
            if (leftmas[i] <= rightmas[j]){
                mas[k]=leftmas[i];
                i++;
            }else{
                mas[k]=rightmas[j];
                j++;
            }
            k++;
        }
        while (i<n1){
            mas[k]=leftmas[i];
            i++;
            k++;
        }
       while (j<n2){
            mas[k]=rightmas[j];
            j++;
            k++;
        }
        free(leftmas);
        free(rightmas);
    }


void sliyaniem(int mas[], int left, int right) {
    if (left < right) {
        int ser = left + (right - left) / 2;

        sliyaniem(mas, left, ser);
        sliyaniem(mas, ser + 1, right);

        merge(mas, left, ser, right);
    }
}

    int sizes[]={10, 1000, 10000, 100000}
    int num_sizes = sizeof(sizes)/sizeof(sizes[0]);
    double times[num_sizes];
    int swaps[num_sizes];
int main(){
    int *massiv = (int*)malloc(10 * sizeof(int));
    for (int i=0; i<10; i++){
        massiv[i] = rand() % 100;
    }

    for (int i=0; i<10; i++){
        printf("%d\n", massiv[i]);
    }


    printf("Сортировка пузырьком\n");
    pyzirkom(massiv, 10);

    for (int i=0; i<10; i++){
        printf("\n%d", massiv[i]);
    }


    printf("\nСортировка вставками\n");
    vstavkami (massiv, 10);

    for (int i = 0; i<10; i++){
        printf("%d\n", massiv[i]);
    }

    printf("Сортировка слиянием:\n");
    sliyaniem(massiv, 0, 9);



    int *massiv = (int*)malloc(1000 * sizeof(int));
       for (int i=0; i<1000; i++){
        massiv[i] = rand() % 10000;
    }

    for (int i=0; i<1000; i++){
        printf("%d\n", massiv[i]);
    }


    printf("Сортировка пузырьком\n");
    pyzirkom(massiv, 1000);

    for (int i=0; i<1000; i++){
        printf("\n%d", massiv[i]);
    }


    printf("\nСортировка вставками\n");
    vstavkami (massiv, 1000);

    for (int i = 0; i<1000; i++){
        printf("%d\n", massiv[i]);
    }

    printf("Сортировка слиянием:\n");
    sliyaniem(massiv, 0, 999);




    int *massiv = (int*)malloc(10000 * sizeof(int));
    for (int i=0; i<10000; i++){
       massiv[i] = rand() % 100000;
    }

    for (int i=0; i<10000; i++){
        printf("%d\n", massiv[i]);
    }


    printf("Сортировка пузырьком\n");
    pyzirkom(massiv, 10000);

    for (int i=0; i<10000; i++){
        printf("\n%d", massiv[i]);
    }


    printf("\nСортировка вставками\n");
    vstavkami (massiv, 10000);

    for (int i = 0; i<10000; i++){
        printf("%d\n", massiv[i]);
    }

    printf("Сортировка слиянием:\n");
    sliyaniem(massiv, 0, 9999);




    int *massiv = (int*)malloc(100000 * sizeof(int));
    for (int i=0; i<100000; i++){
        massiv[i] = rand() % 1000000;
   }

    for (int i=0; i<100000; i++){
        printf("%d\n", massiv[i]);
    }


    printf("Сортировка пузырьком\n");
    pyzirkom(massiv, 100000);

    for (int i=0; i<100000; i++){
        printf("\n%d", massiv[i]);
    }


    printf("\nСортировка вставками\n");
    vstavkami (massiv, 100000);

    for (int i = 0; i<100000; i++){
        printf("%d\n", massiv[i]);
    }

    printf("Сортировка слиянием:\n");
    sliyaniem(massiv, 0, 99999);


    clock_t start = clock();  
    some_difficul_calculate();  
    clock_t end = clock();  
    double seconds = (double)(end - start) / CLOCKS_PER_SEC;  
    printf("Время выполнения: %f секунд\n", seconds);  
    
    void results(double times[][3], long long swaps[][3], int sizes[], int num_sizes) {
    printf("\n╔══════════════╦══════════════════════════════════╦══════════════════════════════════════╗\n">
    printf("║ Размер массива ║         Время выполнения (с)       ║         Количество перестановок       ║>
    printf("║                ╠════════════╦════════════╦══════════╬════════════╦════════════╦════════════╣\>
    printf("║                ║  Пузырьком ║ Вставками  ║ Слиянием ║  Пузырьком ║ Вставками  ║ Слиянием   ║\>
    printf("╠══════════════╬════════════╬════════════╬══════════╬════════════╬════════════╬════════════╣\n">
    
    for (int i = 0; i < num_sizes; i++) {
        printf("║ %13d ║ %10.6f ║ %10.6f ║ %8.6f ║ %10lld ║ %10lld ║ %10lld ║\n", 
               sizes[i], times[i][0], times[i][1], times[i][2], 
               swaps[i][0], swaps[i][1], swaps[i][2]);
    }
    printf("╚══════════════╩════════════╩════════════╩══════════╩════════════╩════════════╩════════════╝\n">

results(times, swaps, sizes, num_sizes);
}



    free(massiv);

return 0;
}

